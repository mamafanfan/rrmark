<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">My Rmarkdown Website</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
    About
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-gear"></span>
     
    More
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Manuscript 2</li>
    <li>
      <a href="test_m.html">Page A</a>
    </li>
    <li>
      <a href="page_b.html">Page B</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Heading 2</li>
    <li>
      <a href="page_c.html">Page C</a>
    </li>
    <li>
      <a href="page_d.html">Page D</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://example.com">
    <span class="fa fa-question fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<div id="using-r-markdown-for-scientific-papers" class="section level1">
<h1>Using R markdown for Scientific Papers</h1>
<p>A Chan, <a href="mailto:4mg@outlook.com">4mg@outlook.com</a><br />
12/3/2015</p>
<pre class="r"><code>  # devtools::install_github(&quot;cboettig/knitcitations@v1&quot;)
  library(knitcitations); cleanbib()
  cite_options(citation_format = &quot;pandoc&quot;, check.entries=FALSE)
  library(bibtex)
  write.bibtex(c(citation(&quot;bibtex&quot;), citation(&quot;knitr&quot;)[1], citation(&quot;knitcitations&quot;), citation(&quot;xtable&quot;), citation(&quot;RefManageR&quot;), citation(&quot;rmarkdown&quot;)), file=&quot;init.bib&quot;)
  bib &lt;- read.bibtex(&quot;init.bib&quot;)
  bib.1 &lt;- read.bibtex(&quot;citavi.bib&quot;)</code></pre>
<div id="abstract" class="section level3">
<h3>Abstract</h3>
<p>This document was created based on a .Rmd template from a blog <a href="http://www.petrkeil.com/?p=2401%3E" title="Simple Rmd Template">post</a> by <span class="citation">@greycite28236</span>. The R package “knitr” <span class="citation">[@Xie_2017; @Xie_2015; @Xie_2014]</span> has its strengths in reproducible research, but it is not designed to produce citations in various foramts for scientific papers. The .Rmd template makes use of an xml file for formatting citation styles, “knitcitations” <span class="citation">[@Boettiger_2017]</span> and “bibtex” <span class="citation">[@Francois_2017]</span> for generating citations by DOIs or bibtex.</p>
</div>
<div id="introduction" class="section level3">
<h3>Introduction</h3>
<p>The template give examples of writing mathematical equations using LaTeX, formatting R outputs using either knitr::kable <span class="citation">[@Xie_2017; @Xie_2015; @Xie_2014]</span> or “xtable” <span class="citation">[@Dahl_2016]</span>, producing graphic plots using the base “plot” function and generating citations using automatic DOI lookup or “bibtex” <span class="citation">[@Francois_2017]</span> with knitcitations::citep and knitcitations::citet <span class="citation">[@Boettiger_2017]</span>.</p>
</div>
<div id="methods" class="section level3">
<h3>Methods</h3>
<p><a href="http://rmarkdown.rstudio.com/authoring_pandoc_markdown.html" title="Rmarkdown Syntax">Rmarkdown</a> <span class="citation">[@Allaire_2017]</span> has full documentation for its syntax. Statistical analysis with plots and tables can be easily created in a .Rmd file by embedding and running “R code chunks” while math equations are produced using or . Rmarkdown (v2) has built-in support for citation as it is based on <a href="http://johnmacfarlane.net/pandoc/" title="Pandoc Document Converter">Pandoc</a>, but it does not have automatic DOI lookup and is better suited to work in conjunction with a citation manager from which bibliography files are generated and exported for its use.</p>
<div id="equations" class="section level4">
<h4>Equations</h4>
<p>Inline equations are enclosed by <code>$</code> with no space following or preceding. A separate paragraph for equations is enclosed by <code>$$</code> following/preceding with a single space. <a href="https://www.sharelatex.com/learn/Mathematical_expressions" title="Math Expression (ShareLaTex)">Sharelatex</a> has detailed documentation for creating mathematical expressions.</p>
<p>The binomial coefficient is defined as</p>
<pre><code>$$ \binom{n}{k} = \frac{n!}{k!(n-k)!} $$
or
\[ ... \]</code></pre>
<p><span class="math display">\[ \binom{n}{k} = \frac{n!}{k!(n-k)!} \]</span></p>
<p>These are all Greek <span class="math inline">\(\alpha, \beta, \theta_0, \epsilon_2, \eta, \lambda^2, \mu, \tau, \sigma\)</span></p>
<p>In least squares prediction models, we estimate <span class="math inline">\(\beta_0, \beta_1, \beta_2, ...\beta_n\)</span> by minimizing the RSS</p>
<pre><code>\[ RSS=\sum_{i=1}^{n} \Big( y_i - \beta_0 - \sum_{j=1}^{p}\beta_{j}x_{ij}\Big)^2 \]</code></pre>
<p><span class="math display">\[ RSS=\sum_{i=1}^{n} \Big( y_i - \beta_0 - \sum_{j=1}^{p}\beta_{j}x_{ij}\Big)^2 \]</span></p>
</div>
<div id="tables" class="section level4">
<h4>Tables</h4>
<pre class="r"><code>library(knitr)
library(ISLR)
attach(Wage)
fit &lt;- lm(wage ~ poly(age, 4), data=Wage)
kable(summary(fit)$coef, digits=2, caption=&quot;This is a 4th degree polynomial. Coef output knitr::kable&quot;)</code></pre>
<table>
<caption>This is a 4th degree polynomial. Coef output knitr::kable</caption>
<thead>
<tr class="header">
<th></th>
<th align="right">Estimate</th>
<th align="right">Std. Error</th>
<th align="right">t value</th>
<th align="right">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(Intercept)</td>
<td align="right">111.70</td>
<td align="right">0.73</td>
<td align="right">153.28</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td>poly(age, 4)1</td>
<td align="right">447.07</td>
<td align="right">39.91</td>
<td align="right">11.20</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td>poly(age, 4)2</td>
<td align="right">-478.32</td>
<td align="right">39.91</td>
<td align="right">-11.98</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td>poly(age, 4)3</td>
<td align="right">125.52</td>
<td align="right">39.91</td>
<td align="right">3.14</td>
<td align="right">0.00</td>
</tr>
<tr class="odd">
<td>poly(age, 4)4</td>
<td align="right">-77.91</td>
<td align="right">39.91</td>
<td align="right">-1.95</td>
<td align="right">0.05</td>
</tr>
</tbody>
</table>
</div>
<div id="plots" class="section level4">
<h4>Plots</h4>
<pre class="r"><code>## fit&lt;-lm(Wage$wage~poly(Wage$age,4),data=Wage)
agelims&lt;-range(Wage$age)
age.grid&lt;-seq(from=agelims[1], to=agelims[2])
preds &lt;- predict(fit, newdata=list(age=age.grid), se=TRUE)
se.bands &lt;- cbind(preds$fit+2*preds$se.fit, preds$fit-2*preds$se.fit)
## par(mfrow=c(1,2), mar=c(4.5,4.5,1,1),oma=c(0,0,4,0))
plot(age, wage, xlim=agelims, cex=.5, col=&quot;darkgrey&quot;)
title(&quot;Degree-4 Polynomial&quot;, outer=F)
lines(age.grid, preds$fit, lwd=2, col=&quot;blue&quot;)
matlines(age.grid, se.bands, lwd=1, col=&quot;blue&quot;, lty=3)</code></pre>
<div class="figure">
<img src="test_manuscript_2_files/figure-html/Wage-1.png" alt="Degree-4 Polynomial. Relationship between Wage and Age (data(Wage) in ILSR. The dotted lines are 95% confidence intervals." />
<p class="caption">Degree-4 Polynomial. Relationship between Wage and Age (data(Wage) in “ILSR”. The dotted lines are 95% confidence intervals.</p>
</div>
</div>
<div id="citations" class="section level4">
<h4>Citations</h4>
<p>In “The Elements of Statistical Learning”, <span class="citation">@Hastie.2009</span> explain with practical examples the application of ridge regression/lasso. The book covers some advanced materials in data mining, inference and prediction. For a less technical treatment of the same subjects, “An Introduction of Statistical Learning” <span class="citation">[@James_2013]</span> should be a good start.</p>
<p>The two types of citation above are respectively generated by</p>
<pre><code>citet(bib.1[[&quot;Hastie.2009&quot;]]) and
citep(&quot;DOI 10.1007/978-1-4614-7138-7&quot;)</code></pre>
<p><code>citet</code> and <code>citep</code> can also refer to either DOI or a bibtex entry, <code>citet(bib.1[[&quot;Hastie.2009&quot;]])</code> generates <span class="citation">@Hastie.2009</span> where “bib.1”&quot; is a R object created by <code>bib.1&lt;-read.bibtex(&quot;name of bibliography file&quot;)</code> and “Hastie.2009” is the bibtex entry ID.</p>
</div>
</div>
<div id="summary" class="section level3">
<h3>Summary</h3>
<p>Plots, tables, math equations and citations are indispensible elements of any scientific papers. The Rmd template is a quick and convenient way to produce them. The finished Rmd file can then be “knited” to html, pdf or word format for submission in <a href="http://www.rstudio.com/" title="RStudio">RStudio</a>. To publish this in a jekyll blog, what I did was to knit it to html and include the html file in a post with a liquid tag.</p>
<p>Finally, the reference list below is produced by using “bibtex” to write out all citations made in the paper <code>write.bibtex(file=&quot;references.bib&quot;)</code>. <code>reference.bib</code> and a style file are declared in the front matter.</p>
</div>
<div id="references" class="section level3">
<h3>References</h3>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
